## Homework-7

### Подготовка

Форкнуть и сколонировать репозиторий с последнего занятия:

https://github.com/assigdev/class_work11

### Задание 

В class work 11 есть уже вьюшки для регистрации, входа и выхода.

1. Нужно добавить шапку (header). Где отображается две ссылки 'регистрация' и 'вход', если пользователь не зашел
и ссылку 'выход', если пользователь зашел. 

Проверить в шаблоне зашел пользователь или нет можно так:


    {% if user.is_authenticated %}
    ........
    ........
    
Переменная user доступна в шаблонах по умолчанию.

Во вьюшке можно получить доступ к переменной user через request.user, но для данного задания в этом нет необходимости.

2. Добавить страницу /secret которая доступна только вошедшим пользователям.

Принято делать так:

Если вьюшка функция: 

https://docs.djangoproject.com/en/2.0/topics/auth/default/#the-login-required-decorator

Если вьюшка класс:

https://docs.djangoproject.com/en/2.0/topics/auth/default/#the-loginrequired-mixin

Также чтоб не указывать в каждой вьюшки login_url, можно добавит в settings ссылку на страничку где можно войти:

  LOGIN_URL = '/login'
  
login_url это та страница куда попадет пользователь если он не зашел и если мы подключили к вьюшке LoginRequiredMixin или login_required.
Ну и логично чтоб это была страница для входа.

То есть мы можем легко закрывать доступ к  страницам от анонимных пользователей благодаря такой конструкции.
